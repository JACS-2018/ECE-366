<!DOCTYPE html>
<html>
<title>Babbl Homepage</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5 {font-family: "Open Sans", sans-serif}
</style>
<body class="w3-theme-l5">

<!-- Navbar -->
<div class="w3-top">
 <div class="w3-bar w3-dark-grey w3-left-align w3-large">
  <a href="#!/" class="w3-bar-item w3-button w3-padding-large w3-dark-grey"></i><img src="images/Babbl_logo.png" style="height:40px;width:px" alt="Babbl"></a>
  <a  href="#!/friend" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-grey" title="Friends" ><i class="fa fa-users"></i></a>
  <a  href="#!/request" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-grey" title="Requests" ><i class="fa fa-user-plus"></i></a>
  <a  href="#!/login" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-grey" title="Logout" >Logout</a>
  <a  href="#!/profile" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-grey" title="My Profile" >
    <img src="http://www.cartoonbucket.com/wp-content/uploads/2015/08/Spongebob-Weared-Big-Specs.jpg" class="w3-circle" style="height:35px;width:35px" alt="Profile">
  </a>
   
 </div>
</div>
<!-- Page Container -->
<div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">    
    
    <!-- Content -->

     <div class="w3-card w3-round w3-white">
        <div class="w3-container">
         <h4 class="w3-center">{{vm.friendUser}}</h4>
         <p class="w3-center"><img src="http://www.cartoonbucket.com/wp-content/uploads/2015/08/Spongebob-Weared-Big-Specs.jpg" class="w3-circle w3-border w3-border-black" style="height:106px;width:106px" alt="Avatar"></p>
         <hr>
         <p><i class="fa fa-pencil fa-fw w3-margin-right w3-text-theme"></i> {{vm.getUser.firstName}} {{vm.getUser.lastName}}</p>
         <p><i class="fa fa-pencil fa-fw w3-margin-right w3-text-theme"></i> {{vm.getUser.about}}</p>
         <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i> {{vm.getUser.email}}</p>
         <p><i class="fa fa-birthday-cake fa-fw w3-margin-right w3-text-theme"></i> {{vm.getUser.bday}}</p>
        </div>
      </div>
      <br>

      <!-- Content -->
    <div ng-if="vm.areFriends == 1">
      <div class="w3-row-padding">
        <div class="w3-col m12">
          <div class="w3-card w3-round w3-white w3-padding-large">
              <style>
                  textarea {
                    width: 97%;
                    height: 125px;
                    padding: 12px 20px;
                    margin: 20px 0;
                    box-sizing: border-box;
                    border: 3px solid #555;
                    overflow: auto;
                    resize: none;
                    display: block;
                    margin-left: auto;
                    margin-right: auto;
                    background-color: #f8f8f8;
                  }

              </style>
              <script  type="text/javascript">
                function clearTextArea() {
                document.getElementById("txtArea").value='';
                }
              </script>
              <textarea id=txtArea name="post" rows="14" cols="10" wrap="soft" ng-model = 'vm.post.content' placeholder="Babbl to your heart's content"> </textarea>
              <!-- <p contenteditable="true" class="w3-border w3-padding" placeholder="Babbl to your heart's content">Babbl to your heart's content</p> -->

                <button type="submit" class="w3-button w3-dark-grey" ng-click="vm.post(vm.post.content)" onclick="clearTextArea()"><i class="fa fa-pencil"></i>  Post</button> 

            </div>
          </div>
        </div>
        <style>
          .multi_lines_text { white-space: pre-line; word-wrap: break-word; }
          a:link {
              text-decoration: none;
          }

          a:visited {
              text-decoration: none;
          }

          a:hover {
              text-decoration: none;
              color:black;
          }

          a:active {
              text-decoration: none;
          }
        </style>
        <div ng-if="vm.hasPosts==true">
          <li ng-repeat="post in vm.allPosts | orderBy:'-'">
            <div class="w3-container w3-card w3-white w3-round w3-margin"><br>
            <img src="http://www.cartoonbucket.com/wp-content/uploads/2015/12/Patrick-Star-Smiling-eq245-600x457.gif" alt="Avatar" class="w3-left w3-margin-right" style="width:60px">
            <span class="w3-right w3-opacity">{{post.timestamp}}</span>
            <div ng-if="post.username_a==vm.user.username">
            <h4><a ng-href="#!/">{{post.username_a}}</a></h4><br>
          </div>
          <div ng-if="post.username_a !=vm.user.username">
            <h4><a ng-href="#!/friendpage/#{{post.username_a}}">{{post.username_a}}</a></h4><br>
          </div>
            <hr class="w3-clear">
            <p class = "multi_lines_text">{{post.content}}</p>
            <button type="button" class="w3-button w3-dark-grey w3-margin-bottom"><i class="fa fa-thumbs-up"></i>  Like</button> 
            <button type="button" class="w3-button w3-dark-grey w3-margin-bottom"><i class="fa fa-comment"></i>  Comment</button> 
          </div>
        </li>
      </div>
  <div ng-if="vm.hasPosts==false">
      <center><h4>Your friend has no posts! Be a good bud and be the first to post!</h4></center>
    </div>
  </div>

      
        <div ng-if="vm.areFriends == 2">
     
        <style>
          .multi_lines_text { white-space: pre-line; word-wrap: break-word; }
          a:link {
              text-decoration: none;
          }

          a:visited {
              text-decoration: none;
          }

          a:hover {
              text-decoration: none;
              color:black;
          }

          a:active {
              text-decoration: none;
          }
        </style>
      <div ng-if="vm.requestings2 == 'requestgood'">
        <center><h4>This person has sent you a friend request!</h4></center>
        <p><center><button type="button" class="btn btn-primary" ng-click="vm.result()">Accept Request</button>
            <button type="button" class="btn btn-primary" ng-click="vm.cancel2()">Deny Request</button></center></p>
      </div>
      <!-- End Content -->
      <div ng-if="vm.requestings2 == 'requestbad'">
        <div ng-if="vm.requestings == 'requestbad'">
          <center><h4>This person isn't your friend! If you would like to connect, send a friend request!</h4></center>
          <p><center><button type="button" class="btn btn-primary" ng-click="vm.friendrequestsuccess()">Friend Me!</button></center></p>
        </div>
        <div ng-if="vm.requestings == 'requestgood'">
          <center><h4>Waiting for Response...</h4></center>
          <p><center><button type="button" class="btn btn-primary" disabled>Awaiting Friend Request Response</button>
            <button type="button" class="btn btn-primary" ng-click="vm.cancel()">Cancel Request</button></center></p>
        </div>
      </div>
  </div>
    
<!-- End Page Container -->
</div>
<br>

<!-- Footer -->
<footer class="w3-container w3-dark-grey w3-padding-16">
  <h5></h5>
</footer>
</body>
</html> 